# ๐ ูุซููุฉ ุงูููุงุตูุงุช ุงูุชูููุฉ ุงูุดุงููุฉ ููููุตุฉ ุงูุชุนููููุฉ
## ุฅุตุฏุงุฑ ุงูุฅุทูุงู ุงูููุงุฆู - Release Ready Specification

---

## ุฌุฏูู ุงููุญุชููุงุช
1. [ููุฎุต ุชูููุฐู](#ููุฎุต-ุชูููุฐู)
2. [ุงููุณู ุงูุฃูู: ุงููุดุงูู ุงูุญุงููุฉ ูุงูุญููู ุงูุฌุฐุฑูุฉ](#ุงููุณู-ุงูุฃูู-ุงููุดุงูู-ุงูุญุงููุฉ-ูุงูุญููู-ุงูุฌุฐุฑูุฉ)
3. [ุงููุณู ุงูุซุงูู: ูุธุงู ุงูุฃุณุชุงุฐ ุงูุฎุงุฑู](#ุงููุณู-ุงูุซุงูู-ูุธุงู-ุงูุฃุณุชุงุฐ-ุงูุฎุงุฑู)
4. [ุงููุณู ุงูุซุงูุซ: ูุธุงู ุงูุทุงูุจ ุงูุงุฌุชูุงุนู ูุงููููุฉ](#ุงููุณู-ุงูุซุงูุซ-ูุธุงู-ุงูุทุงูุจ-ุงูุงุฌุชูุงุนู-ูุงููููุฉ)
5. [ุงููุณู ุงูุฑุงุจุน: ุงูุฃูุงู ูุงูุชุญูู](#ุงููุณู-ุงูุฑุงุจุน-ุงูุฃูุงู-ูุงูุชุญูู)
6. [ุงููุณู ุงูุฎุงูุณ: ุชุญุณููุงุช ุงููุงุฌูุฉ](#ุงููุณู-ุงูุฎุงูุณ-ุชุญุณููุงุช-ุงููุงุฌูุฉ)
7. [ุงููุณู ุงูุณุงุฏุณ: ุฎุทุฉ ุงูุชูููุฐ ูุงูุฅุทูุงู](#ุงููุณู-ุงูุณุงุฏุณ-ุฎุทุฉ-ุงูุชูููุฐ-ูุงูุฅุทูุงู)

---

## ููุฎุต ุชูููุฐู

### ุงููุถุน ุงูุญุงูู
ุงูููุตุฉ ูู ูุฑุญูุฉ Beta ููููุง ุชุนุงูู ูู:
- โ ุชุณุฑุจ ุญุงูุฉ ุงูููุถูุงุช ุนูุฏ Refresh.
- โ ุงุนุชูุงุฏ ูุงุณุน ุนูู Mock Data ุจุฏู ุจูุงูุงุช ูุนููุฉ.
- โ ุนุฏุงุฏุงุช ุชูุฏู ุบูุฑ ุฏูููุฉ ูุบูุฑ ูุฑุชุจุทุฉ ุจุฃุญุฏุงุซ ุญููููุฉ.
- โ ูุตูุฑ ูู ุฃุฏูุงุช ุงููุฏุฑูุณ (ุฅุฏุงุฑุฉ ูุญุชูู/ุงุฎุชุจุงุฑุงุช/ุนุฑูุถ).
- โ ุถุนู ุทุจูุฉ ุงูุชูุงุตู ุงูุงุฌุชูุงุนู ูุงููููุฉ ุงูุทูุงุจูุฉ.
- โ ููุต ูู ุทุจูุงุช ุงูุฃูุงู ูุงููุฑุงูุจุฉ ุงูุชุดุบูููุฉ.

### ุงููุฏู
ุชุญููู ุงูููุตุฉ ุฅูู ูุธุงู ุฅูุชุงุฌู ุฌุงูุฒ ููุชูุณุน ุนุจุฑ ุฎุทุฉ ุชูููุฐ ูุฑุญููุฉ ุชุชุถูู:
- ุชูุญูุฏ ูุตุฏุฑ ุงูุญูููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.
- ุจููุฉ API ูุงุถุญุฉ ููุงุจูุฉ ููุชูุณุน.
- UX ุชูุงุนูู ุณุฑูุน ูุน ูุฒุงููุฉ ููุซููุฉ.
- ุฃุฏูุงุช ูุชูุฏูุฉ ูููุฏุฑูุณ ูุงูุทุงูุจ.
- Hardening ุฃููู ูAudit ุดุงูู.

---

# ุงููุณู ุงูุฃูู: ุงููุดุงูู ุงูุญุงููุฉ ูุงูุญููู ุงูุฌุฐุฑูุฉ

## 1.1 ูุดููุฉ State Management ูุงูููุถูุงุช ุงููุฎุชููุฉ

### ุชุดุฎูุต ุงููุดููุฉ
- ุงูุนูุงุตุฑ ุงููุญุฐููุฉ ูู ุงูููุถูุฉ ุชุนูุฏ ุจุนุฏ ุชุญุฏูุซ ุงูุตูุญุฉ.
- ุงูุณุจุจ: ุงูุญุงูุฉ ูุฎุฒูุฉ ูุญููุงู/ูุคูุชุงู ูููุณุช ูุชุตูุฉ ุฏุงุฆูุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช.
- ูุง ุชูุฌุฏ ูุฒุงููุฉ ููุซููุฉ ุจูู ุงููุงุฌูุฉ ูุงูุณูุฑูุฑ.

### ุงูุญู ุงูุฌุฐุฑู

#### (ุฃ) ูุนูุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
ุฅูุดุงุก ููุงู ูุณุชูู `user_favorites`:
- `favorite_id` (UUID)
- `user_id` (FK users)
- `course_id` (FK courses)
- `lesson_id` (FK lessons, nullable)
- `created_at`
- `updated_at`
- `deleted_at` (Soft Delete)

ููุงุฑุณ ููุชุฑุญุฉ:
- `(user_id, deleted_at)`
- `(user_id, course_id, lesson_id, deleted_at)`
- `(created_at)`

ููุฏ ุนุฏู ุชูุฑุงุฑ ููููุถูุฉ ุงููุนูุงูุฉ ููู ูุณุชุฎุฏู/ูุญุชูู.

#### (ุจ) ูุงุฌูุงุช API (ูุณุฎุฉ v1)
- `GET /api/v1/favorites` (ูุน pagination/sort)
- `POST /api/v1/favorites` (ุฅุถุงูุฉ ููุถูุฉ)
- `DELETE /api/v1/favorites/{favoriteId}` (Soft delete)
- `GET /api/v1/favorites/count` (ุนุฏุงุฏ ุณุฑูุน)

ููุงุนุฏ ุชุญูู ุฅูุฒุงููุฉ:
- ุงูุชููู ุตุงูุญ.
- ุงูููุฑุฏ ููุฌูุฏ.
- ุงููุณุชุฎุฏู ูู ูุงูู ุงูุณุฌู.
- ููุน ุงูุชูุฑุงุฑ.

#### (ุฌ) ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ูู ุงููุงุฌูุฉ
- ุงุณุชุฎุฏุงู Zustand ุฃู Redux Toolkit ููุตุฏุฑ ุญุงูุฉ ูุฑูุฒู.
- Optimistic Update: ุชุญุฏูุซ ุงููุงุฌูุฉ ููุฑุงู ูุจู ุฑุฏ ุงูุณูุฑูุฑ.
- ุญูุธ ูุณุฎุฉ cache ูู `localStorage` ูุน `lastSyncedAt`.
- Revalidation ูู ุงูุฎูููุฉ ุจุนุฏ ูุชุญ ุงูุตูุญุฉ.
- Queue ูุญูู ููุนูููุงุช ุงููุคุฌูุฉ ุนูุฏ ุงููุทุงุน ุงูุดุจูุฉ.

#### (ุฏ) ุงูุชุฒุงูู ูุชุนุฏุฏ ุงูุฃุฌูุฒุฉ
- Realtime channel ููู ูุณุชุฎุฏู (Socket ุฃู Supabase Realtime).
- ุฃุญุฏุงุซ: `favorite.added`, `favorite.removed`.
- ุฃู ุฌูุงุฒ ุขุฎุฑ ูููุณ ุงููุณุชุฎุฏู ูุชููู ุงูุชุบููุฑ ููุฑุงู.

---

## 1.2 ูุดููุฉ ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ (Mock Data)

### ุชุดุฎูุต ุงููุดููุฉ
- ุจูุงูุงุช ุงูููุฑุณุงุช/ุงูุฏุฑูุณ/ุงูุฃุฑูุงู ูุนุฑููุฉ ุฏุงุฎู ุงููุงุฌูุฉ ุจุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช.
- ุฌููุน ุงููุณุชุฎุฏููู ูุฑูู ููุณ ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ.
- ูุง ูููู ุชุชุจุน ุฃุซุฑ ุญูููู ูุนูููุงุช ุงูุฃุณุชุงุฐ ุฃู ุงูุทุงูุจ.

### ุงูุญู ุงูุดุงูู

#### (ุฃ) ููุงุฐุฌ ุงูุจูุงูุงุช ุงูุญููููุฉ

**Courses**
- `course_id`, `instructor_id`, `title`, `description`, `thumbnail`
- `category`, `level`, `price`, `currency`
- `status` (`draft|published|archived`)
- `published_at`, `created_at`, `updated_at`, `deleted_at`
- `enrollment_count`, `average_rating`, `total_reviews` (ุฃู ุชุญุณุจ ุนุจุฑ views)

**Lessons**
- `lesson_id`, `course_id`, `title`, `description`, `order_index`
- `duration_minutes`, `video_url`, `video_thumbnail`
- `content_body` (rich text/markdown)
- `attachments` (metadata)
- `created_at`, `updated_at`, `deleted_at`

**Enrollments**
- `enrollment_id`, `student_id`, `course_id`, `enrolled_at`
- `status` (`active|completed|dropped`)
- `completion_percentage`, `completed_at`, `deleted_at`

#### (ุจ) API ููุจูุงูุงุช ุงูุญููููุฉ
- `GET /api/v1/courses` (ููุชุฑุฉ/ุจุญุซ/ุชุฑุชูุจ/ุตูุญุงุช)
- `GET /api/v1/courses/{courseId}` (ุชูุงุตูู + instructor + lessons summary)
- `GET /api/v1/courses/{courseId}/lessons`
- `GET /api/v1/enrollments/me`

#### (ุฌ) ููุงุนุฏ ุงูุชูุงู ูู Mock ุฅูู Production Data
- ููุน ุฃู `mockCourses/mockLessons` ูู ุงูุฅูุชุงุฌ.
- ุฌููุน ุงูุดุงุดุงุช ุชุณุชุฎุฏู `/api/v1/*` ููุท.
- ุฅุถุงูุฉ Empty State, Loading State, Error State ููู ุดุงุดุฉ.
- ุฅุถุงูุฉ jobs ููุชุญูู ุงูุฏูุฑู ูู ุณูุงูุฉ ุงูุจูุงูุงุช.

---

## 1.3 ูุดููุฉ ุนุฏุงุฏ ุงูุชูุฏู ุงููููู ุบูุฑ ุงูุฏููู

### ุชุดุฎูุต ุงููุดููุฉ
- ุฃุฑูุงู ุงูุฏุฑูุณ ุงูููุชููุฉ/ุงูููุช ุบูุฑ ูุฑุชุจุทุฉ ุจุญุฏุซ ุฅููุงู ูุนูู.
- ูุง ููุฌุฏ ูููุฐุฌ ูุดุงุท ูููู ูุญูุธ ุฃุญุฏุงุซ ุงูุชุนูู.

### ุงูุญู

#### (ุฃ) ุฌุฏุงูู ุงูุชุชุจุน

**student_progress**
- `progress_id`, `student_id`, `course_id`, `lesson_id`
- `status` (`not_started|in_progress|completed`)
- `started_at`, `completed_at`, `last_accessed_at`
- `time_spent_seconds`, `viewed_video_seconds`, `percentage_completed`
- `created_at`, `updated_at`

**daily_activity**
- `activity_id`, `student_id`, `date`
- `lessons_completed`, `quizzes_completed`, `tasks_completed`
- `total_time_spent_seconds`, `courses_accessed`
- `streak_days`, `last_activity_time`
- `created_at`, `updated_at`

#### (ุจ) ุฃุญุฏุงุซ ุชุณุฌูู ุงูุชูุฏู
- `POST /api/v1/progress/start-lesson`
- `POST /api/v1/progress/heartbeat` (ูู 30โ60 ุซุงููุฉ ุฃุซูุงุก ุงููุดุงูุฏุฉ)
- `POST /api/v1/progress/complete-lesson`
- `POST /api/v1/progress/quiz-completed`

#### (ุฌ) ูุฑุงุกุฉ ุงููุคุดุฑุงุช
- `GET /api/v1/progress/daily?date=YYYY-MM-DD`
- `GET /api/v1/progress/week`
- `GET /api/v1/progress/streak`

#### (ุฏ) ููุงุนุฏ ุญุณุงุจ ุฏูููุฉ
- ูุง ุชูุญุณุจ lesson completed ุฅูุง ุจุนุฏ ุจููุบ ุดุฑุท ุฅููุงู ูุงุถุญ (ูุซูุงู 90% ูุดุงูุฏุฉ + quiz ุฃู ุถุบุท Complete).
- ููุน ุงูุนุฏู ุงูููุฑุฑ ูููุณ ุงูุฏุฑุณ ูู ููุณ ุงูููู.
- ุชุญุฏูุซ streak ุจุนูููุฉ ููููุฉ ูุฌุฏููุฉ.

---

# ุงููุณู ุงูุซุงูู: ูุธุงู ุงูุฃุณุชุงุฐ ุงูุฎุงุฑู

## 2.1 ุฅุฏุงุฑุฉ ุงูููุฑุณุงุช ูุงูุฏุฑูุณ

### ูุชุทูุจุงุช ุฃุณุงุณูุฉ
- ุฅูุดุงุก ููุฑุณ ุฎูุงู ุฎุทูุงุช ูุตูุฑุฉ ููุงุถุญุฉ.
- ุฏุนู Draft/Publish ุจุฏูู ุชุนููุฏ.
- ุฅุฏุงุฑุฉ ุฏุฑูุณ ุจุชุฑุชูุจ ุณูู ููุงุจู ูุฅุนุงุฏุฉ ุงูุชูุธูู.

### ุชุฏูู ุฅูุดุงุก ุงูููุฑุณ
1. **ุงูุฎุทูุฉ 1:** ูุนูููุงุช ุฃุณุงุณูุฉ (ุนููุงูุ ูุตูุ ูุฆุฉุ ูุณุชูู).
2. **ุงูุฎุทูุฉ 2:** ุตูุฑุฉุ ุณุนุฑุ ูุฎุฑุฌุงุช ุชุนูู.
3. **ุงูุฎุทูุฉ 3:** ูุฑุงุฌุนุฉ ููุดุฑ (Draft ุฃู Published).

### ุฅุฏุงุฑุฉ ุงูุฏุฑูุณ
- ูุงุฆูุฉ ูุฑุชุจุฉ ููุฏุฑูุณ ูุน ุญุงูุงุช ุงูุงูุชูุงู.
- `Add / Edit / Delete / Reorder`.
- ุงูุชุญูู ูู ุณูุงูุฉ ุงูุชุฑุชูุจ ูุจู ุงููุดุฑ.

### Content Builder (Blocks)
ุฃููุงุน ุงููุชู:
- Video
- Text
- Image
- File/Attachment
- Quiz

ูุฏุฑุงุช ุถุฑูุฑูุฉ:
- Drag & Drop
- Preview ููู Block
- Validation ูุจู ุงูุญูุธ
- Autosave ูู 30 ุซุงููุฉ

---

## 2.2 ูุธุงู ุงูุงุฎุชุจุงุฑุงุช ูุงูุงูุชุญุงูุงุช ุงููุชูุฏู

### ุฅุนุฏุงุฏุงุช ุงูุงุฎุชุจุงุฑ
- ุงุณูุ ูุฏุฉุ ุฏุฑุฌุฉ ูุฌุงุญุ ูุฌููุน ููุงุท.
- ุฎูุงุฑุงุช: shuffle, show results, show answers, retakes, max attempts.

### ุฃููุงุน ุงูุฃุณุฆูุฉ
- Multiple Choice
- True/False
- Multiple Answer
- Short Answer
- Essay (ุชุตุญูุญ ูุฏูู/ุดุจู ุขูู)

### ุฏุนู ุงููุณุงุฆุท ุฏุงุฎู ุงูุณุคุงู
- ุฅุถุงูุฉ ุตูุฑุฉ/ููุฏูู ููู ุณุคุงู.
- ุตูุฑุฉ ูุงุจูุฉ ููุชูุจูุฑ (Lightbox/Modal).

### ุฏูุฑุฉ ุงูุชูููุฐ
1. ุงูุทุงูุจ ูุจุฏุฃ ุงูุงุฎุชุจุงุฑ ูุน ุนุฏุงุฏ ุฒููู.
2. ุญูุธ ุชููุงุฆู ููุฅุฌุงุจุงุช ุฃุซูุงุก ุงูุชููู.
3. Submit ูุฏูู ุฃู ุชููุงุฆู ุนูุฏ ุงูุชูุงุก ุงูููุช.
4. ูุญุฑู ุงูุชุตุญูุญ ูุญุณุจ ุงูููุงุท ูุงููุณุจุฉ ูุงููุฌุงุญ.
5. ุญูุธ `quiz_attempt` + `quiz_answers` + summary.

### ูุฎุฑุฌุงุช ุงููุชุงุฆุฌ
- ุฏุฑุฌุฉ ุฅุฌูุงููุฉ.
- ุชูุตูู ููู ุณุคุงู (ุตุญูุญ/ุฎุทุฃ + ุชูุณูุฑ).
- ุญุงูุฉ ุงููุฌุงุญ.
- ุฒูู ุงูุญู.

---

## 2.3 ูุธุงู ุงูุนุฑูุถ ูุงูููุจููุงุช

### ูููุฐุฌ ุงูุจูุงูุงุช `coupons`
- `coupon_id`, `instructor_id`, `code`
- `discount_type` (`percentage|fixed_amount`)
- `discount_value`
- `scope` (`single_course|all_instructor_courses`)
- `course_id` (nullable)
- `max_uses`, `current_uses`
- `valid_from`, `valid_until`
- `status` (`active|disabled|expired`)
- `created_at`, `updated_at`

### ููุทู ุงูุชุทุจูู
1. ุชุญูู ุงูุตูุงุญูุฉ ุงูุฒูููุฉ.
2. ุชุญูู ุญุฏูุฏ ุงูุงุณุชุฎุฏุงู.
3. ุชุญูู ุงููุทุงู.
4. ุงุญุณุจ ุงูุณุนุฑ ุงูููุงุฆู ุนูู ุงูุณูุฑูุฑ ููุท.
5. ุนูุฏ ูุฌุงุญ ุงูุดุฑุงุก: increment `current_uses` ุจุดูู ุฐุฑู.

---

# ุงููุณู ุงูุซุงูุซ: ูุธุงู ุงูุทุงูุจ ุงูุงุฌุชูุงุนู ูุงููููุฉ

## 3.1 UID ูQR ูุฑูุฏ ููู ุทุงูุจ
- ุชูููุฏ `user_uid` ุซุงุจุช ููุฑูุฏ ุนูุฏ ุงูุชุณุฌูู.
- ุฅูุดุงุก QR ูุดูุฑ ุฅูู `profile/{user_uid}` ุฃู ุฑุงุจุท ูุฎุชุตุฑ `p/{user_uid}`.
- ุฏุนู ุชุญููู/ูุดุงุฑูุฉ QR ูู ุตูุญุฉ ุงูุญุณุงุจ.

## 3.2 ูุธุงู ุงูุฃุตุฏูุงุก
- ุทุฑู ุงูุฅุถุงูุฉ: Scan QR / ุฅุฏุฎุงู UID / ุจุญุซ ุจุงูุงุณู.
- ุฌุฏูู `friendships`:
  - `friendship_id`, `user_id_1`, `user_id_2`, `status`, `created_at`, `updated_at`
  - ุงูุญุงูุงุช: `pending|accepted|blocked`
- ุชุฏูู ูุจูู/ุฑูุถ ุงูุทูุจุงุช ูุน ุฅุดุนุงุฑ ููุฑู.

## 3.3 ูุดุงุฑูุฉ ุงูุชูุฏู ูุงูุฎุตูุตูุฉ
- ุฌุฏูู `privacy_settings`:
  - `show_progress_to_friends`
  - `show_progress_to_instructors`
  - `show_progress_to_public`
- ูู Endpoint ูุชุญูู ูู ุงูุตูุงุญูุฉ ูุจู ุฅุฑุฌุงุน ุจูุงูุงุช ุงูุชูุฏู.

## 3.4 ุงูุฑุณุงุฆู ุงูุฎุงุตุฉ (Chat)

### ูููุฐุฌ ุงูุจูุงูุงุช
`messages`:
- `message_id`, `sender_id`, `recipient_id`
- `encrypted_content`
- `attachment_url` (nullable)
- `sent_at`, `read_at`
- `deleted_by_sender`, `deleted_by_recipient`

### ูุชุทูุจุงุช ุฃูููุฉ
- ุชุดููุฑ ุทุฑูู End-to-End (ุงููุญุชูู ูุดูุฑ ุนูุฏ ุงูุชุฎุฒูู).
- ุฅุดุนุงุฑุงุช Realtime ููุฑุณุงุฆู ุงูุฌุฏูุฏุฉ.
- ุฎูุงุฑุงุช Block / Report ุฏุงุฎู ุงููุญุงุฏุซุฉ.

## 3.5 ุฑุณุงุฆู ุงูุฃุณุชุงุฐ ูุน ููู ุงูุฑุฏ
- ุฌุฏูู `instructor_messages` ูุญุชูู `allow_replies`.
- ูุฏุนู ุงูุงุณุชูุฏุงู: ุฌููุน ุงูุทูุงุจ/ูุฌููุนุฉ/ุทุงูุจ.
- ุนูุฏ `allow_replies=false` ุชุธูุฑ ุงูุฑุณุงูุฉ ูุฅุนูุงู ููุท.

## 3.6 ูุธุงู ุงูุฅุจูุงุบ ูุงูุดูุงูู
- ุฌุฏูู `reports`:
  - `report_id`, `reporter_user_id`, `reported_user_id`, `report_type`, `description`, `evidence_links`, `status`, `instructor_notes`
- ุฏูุฑุฉ ูุนุงูุฌุฉ ุงูุจูุงุบ:
  - `pending โ under_review โ resolved/rejected`
- ุฅุฌุฑุงุกุงุช ุฅุฏุงุฑูุฉ: ุชุญุฐูุฑุ ูุชูุ ุชุนููู ุงูุญุณุงุจ.

---

# ุงููุณู ุงูุฑุงุจุน: ุงูุฃูุงู ูุงูุชุญูู

## 4.1 ููุญุฉ ุชุญูู ุงูุฃุณุชุงุฐ ุงูุขููุฉ
- ูุตูู ูุญููู ุจุงูุฃุฏูุงุฑ (`teacher/admin`).
- ูุตุงุฏูุฉ ูููุฉ + 2FA ุงุฎุชูุงุฑู/ุฅูุฒุงูู ูุญุณุงุจุงุช ุญุณุงุณุฉ.
- ุชุณุฌูู ูุญุงููุงุช ุงูุฏุฎูู ูุฅุฎูุงูุงุช ุงููุตุงุฏูุฉ.

## 4.2 ุญูุงูุฉ ุงูุจูุงูุงุช
- HTTPS ุฅุฌุจุงุฑู ูู ูู ุงูุจูุฆุงุช ุงูุฅูุชุงุฌูุฉ.
- ุชุฎุฒูู ูููุงุช ุงููุฑูุฑ ุนุจุฑ `bcrypt` ุฃู `argon2` ููุท.
- JWT ูุตูุฑุฉ ุงูุนูุฑ + Refresh token rotation.
- ุนุฏู ุชุฎุฒูู ุจูุงูุงุช ุจุทุงูุงุช ุงูุฏูุน (ุงูุงุนุชูุงุฏ ุนูู Stripe/PayPal).

## 4.3 ุณุฌู ุงูุชุฏููู (Audit Logs)

`audit_logs`:
- `log_id`, `user_id`, `action`, `resource_type`, `resource_id`
- `old_value`, `new_value`
- `ip_address`, `user_agent`
- `status`, `reason`, `timestamp`

ุฃูุซูุฉ actions:
- `user:login`, `user:password_change`
- `course:create`, `course:publish`
- `lesson:add`, `quiz:submit`
- `coupon:create`, `report:resolve`

## 4.4 ุถูุงุจุท ุฃูู ุฅุถุงููุฉ
- CORS ููููุฏ ุจุฏููููุงุช ููุซููุฉ.
- CSRF protection ููููุงุฐุฌ ุงูุญุณุงุณุฉ.
- Rate limiting ุถุฏ brute force.
- Parameterized queries ุถุฏ SQL injection.
- Sanitization + CSP ุถุฏ XSS.
- Input validation ุนูู ูู ูุฏุฎูุงุช ุงููุณุชุฎุฏู.

---

# ุงููุณู ุงูุฎุงูุณ: ุชุญุณููุงุช ุงููุงุฌูุฉ

## 5.1 ุชุญููู ุงููุงุฌูุฉ ูู ุตุงูุชุฉ ุฅูู ุชูุงุนููุฉ

### ุญุงูุงุช ุงูุชุญููู
- Skeleton ุนูุฏ ุงูุชุญููู ุงูุฃูู.
- ุนุฏู ูุณุญ ุงููุญุชูู ุงูุญุงูู ุฃุซูุงุก re-fetchุ ุงุณุชุฎุฏุงู loading indicator ุฎููู.

### ุฑุณุงุฆู ุงููุฌุงุญ/ุงููุดู
- Toast ูุฌุงุญ: ูุตูุฑุฉ ููุงุถุญุฉ.
- Toast ุฎุทุฃ: ูุงุถุญ ูุน ุฒุฑ Retry ุนูุฏ ุงูุญุงุฌุฉ.

### ุงูุชูุงุนู ุงูุจุตุฑู
- Hover/Focus states ููู ุนูุงุตุฑ ุงูููุฑ.
- ุงูุชูุงูุงุช ุฎูููุฉ 150โ250ms.
- ูุคุดุฑุงุช ุญุงูุฉ ููุฃุฒุฑุงุฑ ุฃุซูุงุก ุงูุฅุฑุณุงู.

### ุงูุงุณุชุฌุงุจุฉ ููุฃุฌูุฒุฉ
- Desktop Sidebar ูุงุถุญ (ุฃููููุฉ + ูุต).
- Mobile Bottom Navigation ูุงุจู ูููุตูู ุจุงูุฅุจูุงู.

## 5.2 ุณูููุฉ ุงูุงุณุชุฎุฏุงู ูุฅููุงููุฉ ุงููุตูู
- Keyboard navigation ูุงูู.
- ARIA labels ููุนูุงุตุฑ ุงูุฃูููููุฉ.
- ุชุจุงูู ุฃููุงู ูุทุงุจู ูููุนุงููุฑ.
- ุฃุญุฌุงู ุฎุทูุท ููุณุงูุงุช ูุฑูุญุฉ ูููุฑุงุกุฉ.

## 5.3 ุงูุฃุฏุงุก ุงููุฏุฑู
- Lazy loading ููุตูุฑ ูุงูููุฏูู.
- Pagination/Infinite Scroll ููููุงุฆู ุงููุจูุฑุฉ.
- Cache + revalidation (SWR/React Query).
- ุชูููู ุทูุจุงุช ุงูุดุจูุฉ ุงููุชูุฑุฑุฉ ุนุจุฑ deduplication.

---

# ุงููุณู ุงูุณุงุฏุณ: ุฎุทุฉ ุงูุชูููุฐ ูุงูุฅุทูุงู

## ุงููุฑุญูุฉ 1: ุฅุตูุงุญ ุงูุฃุณุงุณูุงุช (ุฃุณุจูุน 1โ2)
- ุชูุญูุฏ ูุตุฏุฑ ุงูุจูุงูุงุช ููููุถูุฉ ูู DB + API.
- ุฅุฒุงูุฉ Mock Data ูู ุงูุตูุญุงุช ุงูุญุฑุฌุฉ.
- ุฑุจุท ุนุฏุงุฏ ุงูุชูุฏู ุจุฃุญุฏุงุซ ูุนููุฉ.

**ูุฎุฑุฌุงุช ูุจูู:**
- ูุง ุนูุฏุฉ ููููุถูุฉ ุจุนุฏ Refresh.
- ุฃุฑูุงู ุงูุชูุฏู ุงูููููุฉ ุชุทุงุจู ุงูุฃุญุฏุงุซ ุงููุนููุฉ.

## ุงููุฑุญูุฉ 2: ุชูููู ุงูุฃุณุชุงุฐ (ุฃุณุจูุน 3โ5)
- Course/Lesson Builder.
- Content Blocks.
- Quiz engine ุงูุฃุณุงุณู.

**ูุฎุฑุฌุงุช ูุจูู:**
- ุฅูุดุงุก ููุฑุณ ูุงูู ููุดุฑู ูู ููุญุฉ ุงูุฃุณุชุงุฐ ุฏูู ุชุฏุฎู ุชููู.

## ุงููุฑุญูุฉ 3: ุงูุชูููู ูุงูุชุฌุงุฑูุฉ (ุฃุณุจูุน 6โ7)
- ุชูุณูุน ุงูุงุฎุชุจุงุฑุงุช (ูุณุงุฆุท/ูุญุงููุงุช/ูุชุงุฆุฌ ุชูุตูููุฉ).
- ููุจููุงุช ูุฎุตููุงุช ูุฑุจุทูุง ุจุนูููุฉ ุงูุดุฑุงุก.

**ูุฎุฑุฌุงุช ูุจูู:**
- ุชุทุจูู ููุจูู ุตุงูุญ ุจุดูู ุตุญูุญ ูุน ุชุชุจุน ุงุณุชุฎุฏุงู.

## ุงููุฑุญูุฉ 4: ุงูุทุจูุฉ ุงูุงุฌุชูุงุนูุฉ (ุฃุณุจูุน 8โ9)
- UID/QR.
- Friendships + privacy.
- Chat + reporting.

**ูุฎุฑุฌุงุช ูุจูู:**
- ุฅุถุงูุฉ ุตุฏูู ุนุจุฑ QR ูุนุฑุถ ุงูุชูุฏู ุญุณุจ ุฅุนุฏุงุฏุงุช ุงูุฎุตูุตูุฉ.

## ุงููุฑุญูุฉ 5: Hardening ูุฅุทูุงู ุฅูุชุงุฌู (ุฃุณุจูุน 10)
- 2FA ููุญุณุงุจุงุช ุงูุญุณุงุณุฉ.
- Audit logs ุดุงูู.
- ุงุฎุชุจุงุฑุงุช ุฃูุงู ูุชุดุบูู ููุงุฆูุฉ.

**ูุฎุฑุฌุงุช ูุจูู:**
- ุงุฌุชูุงุฒ checklist ุงูุฃูุงู ูุจู ุงูุฅุทูุงู.

---

## ูุคุดุฑุงุช ุงููุฌุงุญ (KPIs)
- ุงูุฎูุงุถ ุจูุงุบุงุช ููุฏุงู ุงูุญุงูุฉ ุจุนุฏ Refresh ุฅูู 0 ุชูุฑูุจุงู.
- ุฏูุฉ ุชุชุจุน ุงููุดุงุท ุงููููู > 98%.
- ุงุฑุชูุงุน completion rate ููููู ุงูุดุฎุตู.
- ุฒูุงุฏุฉ ุงูุงุญุชูุงุธ ุงููููู (DAU Retention).
- ุงูุฎูุงุถ ุงูุญูุงุฏุซ ุงูุฃูููุฉ ุจุนุฏ ุชูุนูู hardening.

---

## ููุงุญุธุงุช ุชูุงูู ูุน ุงููุธุงู ุงูุญุงูู
ูุจู ุงูุชูููุฐ ุงูููุงุฆู:
1. ููุงุกูุฉ ุงููุฎุทุท ูุน ุฌุฏุงูู Supabase ุงูุญุงููุฉ.
2. ุงูุญูุงุธ ุนูู ุณูุงุณุงุช RLS ูุนุฏู ูุณุฑูุง.
3. ุงูุงูุชุฒุงู ุจูุณุงุฑุงุช Next.js App Router ุงูุญุงููุฉ.
4. ุงูุญูุงุธ ุนูู ุฃุฏูุงุฑ ุงููุธุงู (`student`, `teacher`, `admin`).

> ุงููุชูุฌุฉ ุงููุชููุนุฉ: ููุตุฉ ุชุนููููุฉ ุฅูุชุงุฌูุฉุ ุฏูููุฉ ุงูุจูุงูุงุชุ ุขููุฉุ ููุงุจูุฉ ููุชูุณุน ูุงูููุงูุณุฉ.
